/**
 *    > Author:   UncP
 *    > Mail:     770778010@qq.com
 *    > Description:
 *			priority table
 *    > Created Time: 2016-02-18 12:02:36
**/

int priority(const int x, const int y)
{// compare the predecence between two operators
    int a, b;
    int priority[13][13] = {
	  // +-  */    (    )    =   ==<>  [    ]    ;   ++-- &&||  ,    .
    	'>', '<', '<', '>', '>', '>', '<', '>', '>', '<', '>', '>', '<',   // +-
    	'>', '>', '<', '>', '>', '>', '<', '>', '>', '<', '>', '>', '<',   // */
    	'<', '<', '<', '=', '<', '<', '<', ' ', '<', '<', '<', '<', '<',   // (
    	'>', '>', ' ', '>', '>', '>', ' ', '>', '>', ' ', '>', '>', ' ',   // )
    	'<', '<', '<', '>', '<', '<', '<', '>', '>', '<', '<', '>', '<',   // =
    	'<', '<', '<', '>', '>', ' ', '<', '>', '>', '<', '>', '>', '<',   // ==<>
    	'<', '<', '<', ' ', ' ', ' ', ' ', '=', ' ', '<', ' ', ' ', '<',   // [
    	'>', '>', ' ', '>', '>', '>', ' ', ' ', '>', ' ', ' ', '>', ' ',   // ]
    	' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '<', ' ', '>', '<',   // ;
    	'>', '>', ' ', '>', ' ', '>', '<', '>', '>', ' ', '>', '>', '<',   // ++--
    	'<', '<', '<', '>', ' ', '<', '<', '>', '>', '<', '>', '>', '<',   // &&||
        ' ', ' ', '<', '=', '<', ' ', '<', ' ', '=', '<', ' ', '=', '<',   // ,
        '>', '>', ' ', '>', '>', '>', '>', '>', '>', ' ', '>', ' ', ' ',   // .
    };
    if      (x == '+' || x == '-') a = 0;
    else if (x == '*' || x == '/') a = 1;
    else if (x == '(') a = 2;
    else if (x == ')') a = 3;
    else if (x == '=') a = 4;
    else if (x == Eq || x == '<' || x == '>')  a = 5;
    else if (x == '[') a = 6;
    else if (x == ']') a = 7;
    else if (x == ';') a = 8;
    else if (x == Inc || x == Dec) a = 9;
    else if (x == And || x == Or)  a = 10;
    else if (x == ',') a = 11;
    else if (x == '.') a = 12;
    else { printf("\nsymbol error\n"); exit(-1); }
    if      (y == '+' || y == '-') b = 0;
    else if (y == '*' || y == '/') b = 1;
    else if (y == '(') b = 2;
    else if (y == ')') b = 3;
    else if (y == '=') b = 4;
    else if (y == Eq || y == '<' || y == '>')  b = 5;
    else if (y == '[') b = 6;
    else if (y == ']') b = 7;
    else if (y == ';') b = 8;
    else if (y == Inc || y == Dec) b = 9;
    else if (y == And || y == Or)  b = 10;
    else if (y == ',') b = 11;
    else if (y == '.') b = 12;
	else { printf("\nsymbol error\n"); exit(-1); }
    return priority[a][b];
}
